<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SmartCity Traffic & Urban Management Platform - ãƒ‡ãƒ¢ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
  <style>
    body { margin:0; font-family:'Segoe UI','Meiryo',sans-serif; background:#f4f6fa; }
    .container { display:flex; min-height:100vh; }
    .sidebar {
      width:220px; background:#222d3b; color:#fff; display:flex; flex-direction:column; padding:0; }
    .sidebar h2 { font-size:1.2em; text-align:center; margin:1.2em 0 0.5em 0; letter-spacing:2px; }
    .sidebar ul { list-style:none; padding:0; margin:0; }
    .sidebar li { padding:1.1em 1.5em; cursor:pointer; border-left:5px solid transparent; transition:background 0.2s; }
    .sidebar li.active, .sidebar li:hover { background:#1a2230; border-left:5px solid #ff9800; }
    .sidebar li i { margin-right:0.7em; }
    .main { flex:1; padding:2em 2.5em; }
    .dashboard-cards { display:flex; gap:1.5em; margin-bottom:2em; }
    .card { background:#fff; border-radius:14px; box-shadow:0 2px 12px #dbe6f3; padding:1.2em 2em; min-width:160px; text-align:center; font-size:1.1em; }
    .card span { display:block; font-size:1.5em; font-weight:bold; margin-top:0.3em; }
    .dashboard-map-graph { display:flex; gap:2em; align-items:flex-start; }
    .city-map { position:relative; width:380px; height:260px; background:#e0e7ef; border-radius:12px; overflow:hidden; box-shadow:0 2px 8px #dbe6f3; }
    .city-map img { width:100%; height:100%; object-fit:cover; }
    .traffic-icon, .emergency-icon { position:absolute; font-size:2em; transition:top 1s,left 1s; }
    .traffic-icon { color:#ff9800; }
    .emergency-icon { color:#e53935; animation:blink 1s infinite alternate; }
    @keyframes blink { 0%{opacity:1;} 100%{opacity:0.5;} }
    .alert-area { margin:2em 0 1em 0; }
    .alert { background:#fff3cd; color:#856404; border-left:6px solid #ff9800; padding:1em 1.5em; border-radius:8px; margin-bottom:0.7em; font-size:1.1em; box-shadow:0 2px 8px #ffe5b4; }
    .alert.alert-emergency { background:#ffeaea; color:#b71c1c; border-left-color:#e53935; }
    .dashboard-actions { display:flex; gap:2em; align-items:flex-start; margin-top:2em; }
    .btn-emergency { background:#e53935; color:#fff; border:none; border-radius:8px; padding:1em 2em; font-size:1.1em; font-weight:bold; cursor:pointer; box-shadow:0 2px 8px #ffcdd2; transition:background 0.2s; }
    .btn-emergency:hover { background:#b71c1c; }
    .ai-panel { background:#fff; border-radius:10px; box-shadow:0 2px 8px #dbe6f3; padding:1em 1.5em; min-width:200px; }
    .ai-panel h4 { margin:0 0 0.5em 0; font-size:1.1em; color:#ff9800; }
    .ai-panel span { font-weight:bold; color:#e53935; }
    @media (max-width:900px) { .dashboard-map-graph { flex-direction:column; } .city-map { width:100%; height:200px; } }
    @media (max-width:700px) { .container { flex-direction:column; } .sidebar { width:100%; flex-direction:row; } .sidebar ul { display:flex; } .sidebar li { flex:1; text-align:center; } .main { padding:1em; } }
  </style>
</head>
<body>
<div class="container">
  <nav class="sidebar">
    <h2>SmartCity Menu</h2>
    <ul>
      <li class="active"><i class="fas fa-traffic-light"></i>äº¤é€šç®¡åˆ¶</li>
      <li><i class="fas fa-industry"></i>ã‚¤ãƒ³ãƒ•ãƒ©ç®¡ç†</li>
      <li><i class="fas fa-leaf"></i>ç’°å¢ƒãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°</li>
      <li><i class="fas fa-users"></i>å¸‚æ°‘ã‚µãƒ¼ãƒ“ã‚¹</li>
      <li><i class="fas fa-brain"></i>AIåˆ†æ</li>
      <li><i class="fas fa-plane-departure"></i>èˆªç©ºç®¡åˆ¶</li>
    </ul>
  </nav>
  <main class="main">
    <div class="dashboard-cards">
      <div class="card">äº¤é€šé‡<br><span id="traffic-count">1,230å°</span></div>
      <div class="card">å¤§æ°—è³ª<br><span id="air-quality">PM2.5: 35Î¼g/mÂ³</span></div>
      <div class="card">é›»åŠ›æ¶ˆè²»<br><span id="power-usage">12.3MW</span></div>
    </div>
    <div class="dashboard-map-graph">
      <div class="city-map">
        <img src="https://upload.wikimedia.org/wikipedia/commons/6/6e/Tokyo_Metro_map.png" alt="éƒ½å¸‚åœ°å›³" />
        <div class="traffic-icon" id="car1" style="top:40%;left:60%;">ğŸš—</div>
        <div class="emergency-icon" id="emergency1" style="top:55%;left:30%;">ğŸš‘</div>
      </div>
      <canvas id="trafficChart" width="350" height="220"></canvas>
    </div>
    <div class="alert-area">
      <div class="alert alert-emergency" id="alert-emergency">ğŸš¨ ç·Šæ€¥è»Šä¸¡ãŒå¸‚å†…ã‚’é€šéä¸­ï¼ˆAIä¿¡å·åˆ¶å¾¡ä¸­ï¼‰</div>
      <div class="alert alert-air" id="alert-air">ğŸŒ«ï¸ å¤§æ°—è³ªã‚¢ãƒ©ãƒ¼ãƒˆï¼šPM2.5ä¸Šæ˜‡</div>
    </div>
    <div class="dashboard-actions">
      <button class="btn-emergency" onclick="triggerEmergency()">ç·Šæ€¥è»Šä¸¡å„ªå…ˆ</button>
      <div class="ai-panel">
        <h4>AIäºˆæ¸¬</h4>
        <p>30åˆ†å¾Œã®æ¸‹æ»äºˆæ¸¬ï¼š<span id="ai-prediction">æ··é›‘ï¼ˆèµ¤ï¼‰</span></p>
      </div>
    </div>
    <div style="margin-top:2em; color:#888; font-size:0.95em;">
      <strong>ãƒ‡ãƒ¢ã‚·ãƒŠãƒªã‚ª:</strong> <span id="demo-story">ç¾åœ¨ã€ç·Šæ€¥è»Šä¸¡ãŒå¸‚å†…ã‚’é€šéä¸­ã€‚AIãŒä¿¡å·ã‚’è‡ªå‹•åˆ¶å¾¡ã—ã¦ã„ã¾ã™ã€‚</span>
    </div>
  </main>
</div>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
// ãƒ€ãƒŸãƒ¼ã‚°ãƒ©ãƒ•åˆæœŸåŒ–
const ctx = document.getElementById('trafficChart').getContext('2d');
const trafficChart = new Chart(ctx, {
  type: 'line',
  data: {
    labels: ['10:00','10:10','10:20','10:30','10:40','10:50'],
    datasets: [{
      label: 'äº¤é€šé‡',
      data: [1200, 1300, 1250, 1400, 1230, 1350],
      borderColor: 'orange',
      fill: false
    }]
  },
  options: { responsive: true, plugins:{legend:{display:false}} }
});

// ãƒ€ãƒŸãƒ¼æ•°å€¤ã®ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ é¢¨æ›´æ–°
setInterval(() => {
  // äº¤é€šé‡
  let count = 1200 + Math.floor(Math.random()*200);
  document.getElementById('traffic-count').textContent = count + 'å°';
  // å¤§æ°—è³ª
  let pm = 30 + Math.floor(Math.random()*15);
  document.getElementById('air-quality').textContent = 'PM2.5: ' + pm + 'Î¼g/mÂ³';
  // é›»åŠ›æ¶ˆè²»
  let power = (12 + Math.random()*2).toFixed(1);
  document.getElementById('power-usage').textContent = power + 'MW';
  // ã‚°ãƒ©ãƒ•
  trafficChart.data.datasets[0].data.push(count);
  trafficChart.data.labels.push(new Date().toLocaleTimeString().slice(0,5));
  if(trafficChart.data.datasets[0].data.length>8){
    trafficChart.data.datasets[0].data.shift();
    trafficChart.data.labels.shift();
  }
  trafficChart.update();
}, 4000);

// ç·Šæ€¥è»Šä¸¡ã‚¢ã‚¤ã‚³ãƒ³ã®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³
let car = document.getElementById('car1');
let emergency = document.getElementById('emergency1');
let carPos = 60, emergencyPos = 30;
setInterval(()=>{
  carPos = carPos > 10 ? carPos-5 : 60;
  emergencyPos = emergencyPos < 70 ? emergencyPos+5 : 30;
  car.style.left = carPos + '%';
  emergency.style.left = emergencyPos + '%';
}, 2000);

// ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ä»•ç«‹ã¦ã®ãƒ‡ãƒ¢ã‚·ãƒŠãƒªã‚ª
const stories = [
  'ç¾åœ¨ã€ç·Šæ€¥è»Šä¸¡ãŒå¸‚å†…ã‚’é€šéä¸­ã€‚AIãŒä¿¡å·ã‚’è‡ªå‹•åˆ¶å¾¡ã—ã¦ã„ã¾ã™ã€‚',
  'å¤§æ°—è³ªãŒæ‚ªåŒ–ã€‚ç’°å¢ƒã‚¢ãƒ©ãƒ¼ãƒˆãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚',
  'ã‚¤ãƒ³ãƒ•ãƒ©éšœå®³ãŒç™ºç”Ÿã—ã€å¾©æ—§ä½œæ¥­ä¸­ã§ã™ã€‚',
  'AIãŒäº¤é€šé‡ã‚’äºˆæ¸¬ã—ã€æ¸‹æ»å›é¿ãƒ«ãƒ¼ãƒˆã‚’ææ¡ˆã—ã¦ã„ã¾ã™ã€‚',
  'å¸‚æ°‘ã‚µãƒ¼ãƒ“ã‚¹ï¼šã”ã¿åé›†ãƒ«ãƒ¼ãƒˆã®æœ€é©åŒ–ã‚’å®Ÿæ–½ä¸­ã€‚',
  'èˆªç©ºç®¡åˆ¶ï¼šé›¢ç€é™¸ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’AIãŒæœ€é©åŒ–ä¸­ã€‚'
];
let storyIdx = 0;
setInterval(()=>{
  storyIdx = (storyIdx+1)%stories.length;
  document.getElementById('demo-story').textContent = stories[storyIdx];
}, 9000);

// ç·Šæ€¥è»Šä¸¡å„ªå…ˆãƒœã‚¿ãƒ³ã®ãƒ‡ãƒ¢å‹•ä½œ
function triggerEmergency(){
  document.getElementById('alert-emergency').textContent = 'ğŸš¨ ç·Šæ€¥è»Šä¸¡å„ªå…ˆãƒ¢ãƒ¼ãƒ‰ï¼šAIãŒå…¨ä¿¡å·ã‚’åˆ¶å¾¡ä¸­ï¼';
  document.getElementById('demo-story').textContent = 'ç·Šæ€¥è»Šä¸¡å„ªå…ˆãƒ¢ãƒ¼ãƒ‰ãŒç™ºå‹•ã€‚AIãŒå…¨ä¿¡å·ã‚’è‡ªå‹•åˆ¶å¾¡ã—ã¦ã„ã¾ã™ã€‚';
  setTimeout(()=>{
    document.getElementById('alert-emergency').textContent = 'ğŸš¨ ç·Šæ€¥è»Šä¸¡ãŒå¸‚å†…ã‚’é€šéä¸­ï¼ˆAIä¿¡å·åˆ¶å¾¡ä¸­ï¼‰';
  }, 7000);
}
</script>
</body>
</html> 