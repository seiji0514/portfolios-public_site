<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>手の体操リハビリゲーム技術仕様書</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
            background: #f5f5f5;
            color: #333;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #2c3e50;
            border-bottom: 3px solid #3498db;
            padding-bottom: 10px;
            text-align: center;
        }
        h2 {
            color: #34495e;
            border-left: 4px solid #3498db;
            padding-left: 15px;
            margin-top: 30px;
        }
        h3 {
            color: #2980b9;
            margin-top: 25px;
        }
        .feature-box {
            background: #ecf0f1;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            border-left: 4px solid #3498db;
        }
        .tech-spec {
            background: #e8f4f8;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            border: 1px solid #bdc3c7;
        }
        .code-block {
            background: #2c3e50;
            color: #ecf0f1;
            padding: 15px;
            border-radius: 5px;
            font-family: 'Courier New', monospace;
            overflow-x: auto;
        }
        .warning {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            color: #856404;
            padding: 15px;
            border-radius: 5px;
            margin: 15px 0;
        }
        .success {
            background: #d4edda;
            border: 1px solid #c3e6cb;
            color: #155724;
            padding: 15px;
            border-radius: 5px;
            margin: 15px 0;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: left;
        }
        th {
            background: #3498db;
            color: white;
        }
        tr:nth-child(even) {
            background: #f2f2f2;
        }
        .exercise-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        .exercise-card {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .exercise-card h4 {
            color: #495057;
            margin-top: 0;
            border-bottom: 2px solid #6c757d;
            padding-bottom: 10px;
        }
        .back-link {
            display: inline-block;
            margin: 20px 0;
            padding: 10px 20px;
            background: #3498db;
            color: white;
            text-decoration: none;
            border-radius: 5px;
            transition: background 0.3s;
        }
        .back-link:hover {
            background: #2980b9;
        }
    </style>
</head>
<body>
    <div class="container">
        <a href="index.html" class="back-link">← 資料一覧に戻る</a>
        
        <h1>🤲 手の体操リハビリゲーム技術仕様書</h1>
        
        <div class="feature-box">
            <h3>📋 概要</h3>
            <p>WEBカメラを使用した手の体操リハビリゲームは、高齢者やリハビリ患者の手の機能回復を支援するためのインタラクティブなシステムです。リアルタイムの手の認識技術を活用し、4つの異なる体操プログラムを提供します。</p>
        </div>

        <h2>🎯 システム目的</h2>
        <ul>
            <li><strong>手の機能回復支援：</strong>指の可動域改善、握力強化、手首の柔軟性向上</li>
            <li><strong>認知機能維持：</strong>手の動きと視覚的フィードバックによる認知刺激</li>
            <li><strong>リハビリ継続支援：</strong>ゲーム性による継続的なリハビリテーション</li>
            <li><strong>評価・記録：</strong>体操の実行回数とスコアによる進捗管理</li>
        </ul>

        <h2>🔧 技術仕様</h2>
        
        <h3>基本技術スタック</h3>
        <div class="tech-spec">
            <table>
                <tr>
                    <th>技術要素</th>
                    <th>詳細</th>
                    <th>用途</th>
                </tr>
                <tr>
                    <td>HTML5</td>
                    <td>Canvas API, Video API</td>
                    <td>カメラ映像表示・描画</td>
                </tr>
                <tr>
                    <td>JavaScript</td>
                    <td>ES6+, MediaDevices API</td>
                    <td>カメラ制御・手認識処理</td>
                </tr>
                <tr>
                    <td>CSS3</td>
                    <td>Flexbox, Grid, レスポンシブ</td>
                    <td>UIレイアウト・デザイン</td>
                </tr>
                <tr>
                    <td>WebRTC</td>
                    <td>getUserMedia API</td>
                    <td>リアルタイムカメラアクセス</td>
                </tr>
            </table>
        </div>

        <h3>手認識技術</h3>
        <div class="tech-spec">
            <ul>
                <li><strong>MediaPipe Hands：</strong>Google開発の手認識ライブラリ</li>
                <li><strong>21点手のランドマーク：</strong>指先、関節、手首の位置を正確に検出</li>
                <li><strong>リアルタイム処理：</strong>30fpsでの継続的な手の追跡</li>
                <li><strong>3D座標取得：</strong>X, Y, Z座標による立体的な手の位置把握</li>
            </ul>
        </div>

        <h2>🎮 体操プログラム仕様</h2>
        
        <div class="exercise-list">
            <div class="exercise-card">
                <h4>1. 指の体操</h4>
                <ul>
                    <li><strong>目的：</strong>指の可動域改善、細かい動きの訓練</li>
                    <li><strong>動作：</strong>指を1本ずつ曲げ伸ばし</li>
                    <li><strong>検出：</strong>各指の関節角度計算</li>
                    <li><strong>難易度：</strong>初級</li>
                </ul>
            </div>

            <div class="exercise-card">
                <h4>2. 握力体操</h4>
                <ul>
                    <li><strong>目的：</strong>握力強化、手の筋力向上</li>
                    <li><strong>動作：</strong>グー・パーの繰り返し</li>
                    <li><strong>検出：</strong>手の開閉状態判定</li>
                    <li><strong>難易度：</strong>中級</li>
                </ul>
            </div>

            <div class="exercise-card">
                <h4>3. 手振り体操</h4>
                <ul>
                    <li><strong>目的：</strong>手首の柔軟性向上</li>
                    <li><strong>動作：</strong>手首を左右に振る</li>
                    <li><strong>検出：</strong>手首の回転角度測定</li>
                    <li><strong>難易度：</strong>中級</li>
                </ul>
            </div>

            <div class="exercise-card">
                <h4>4. 手首回し体操</h4>
                <ul>
                    <li><strong>目的：</strong>手首の可動域拡大</li>
                    <li><strong>動作：</strong>手首を円を描くように回す</li>
                    <li><strong>検出：</strong>手首の円運動軌跡追跡</li>
                    <li><strong>難易度：</strong>上級</li>
                </ul>
            </div>
        </div>

        <h2>📱 デバイス対応仕様</h2>
        
        <h3>対応デバイス</h3>
        <div class="tech-spec">
            <table>
                <tr>
                    <th>デバイス種別</th>
                    <th>対応状況</th>
                    <th>最適化内容</th>
                </tr>
                <tr>
                    <td>PC（Windows/Mac）</td>
                    <td>✅ 完全対応</td>
                    <td>マウス・キーボード操作、高解像度表示</td>
                </tr>
                <tr>
                    <td>iPad</td>
                    <td>✅ 完全対応</td>
                    <td>タッチ操作、画面向き対応、カメラ最適化</td>
                </tr>
                <tr>
                    <td>Android タブレット</td>
                    <td>✅ 対応</td>
                    <td>タッチ操作、レスポンシブ対応</td>
                </tr>
                <tr>
                    <td>スマートフォン</td>
                    <td>⚠️ 制限あり</td>
                    <td>画面サイズ制限、カメラ性能依存</td>
                </tr>
            </table>
        </div>

        <h3>カメラ要件</h3>
        <div class="warning">
            <h4>⚠️ 重要：カメラ設定</h4>
            <ul>
                <li><strong>解像度：</strong>最低640x480、推奨1280x720以上</li>
                <li><strong>フレームレート：</strong>30fps以上推奨</li>
                <li><strong>照明：</strong>十分な明るさが必要</li>
                <li><strong>背景：</strong>手と背景のコントラストが重要</li>
            </ul>
        </div>

        <h2>🎯 機能仕様</h2>
        
        <h3>基本機能</h3>
        <ul>
            <li><strong>カメラ自動起動：</strong>ページ読み込み時の自動カメラ開始</li>
            <li><strong>体操選択：</strong>4つの体操プログラムから選択</li>
            <li><strong>リアルタイム認識：</strong>手の動きをリアルタイムで検出</li>
            <li><strong>視覚的フィードバック：</strong>手の位置と体操状態を画面表示</li>
            <li><strong>スコアリング：</strong>体操の成功回数と精度を記録</li>
        </ul>

        <h3>UI/UX機能</h3>
        <ul>
            <li><strong>レスポンシブデザイン：</strong>デバイスサイズに応じた自動調整</li>
            <li><strong>タッチ操作対応：</strong>iPad等でのタッチ操作最適化</li>
            <li><strong>画面向き対応：</strong>縦横画面の自動切り替え</li>
            <li><strong>エラーハンドリング：</strong>カメラエラー時の適切な案内</li>
            <li><strong>デバイス情報表示：</strong>現在のデバイス情報を表示</li>
        </ul>

        <h2>📊 データ管理仕様</h2>
        
        <h3>記録データ</h3>
        <div class="tech-spec">
            <table>
                <tr>
                    <th>データ項目</th>
                    <th>記録内容</th>
                    <th>保存形式</th>
                </tr>
                <tr>
                    <td>体操種別</td>
                    <td>選択した体操プログラム名</td>
                    <td>文字列</td>
                </tr>
                <tr>
                    <td>実行回数</td>
                    <td>体操の成功回数</td>
                    <td>数値</td>
                </tr>
                <tr>
                    <td>実行時間</td>
                    <td>体操の実行時間（秒）</td>
                    <td>数値</td>
                </tr>
                <tr>
                    <td>精度スコア</td>
                    <td>体操の正確性（0-100%）</td>
                    <td>数値</td>
                </tr>
                <tr>
                    <td>実行日時</td>
                    <td>体操実行の日時</td>
                    <td>日時</td>
                </tr>
            </table>
        </div>

        <h3>データ保存</h3>
        <ul>
            <li><strong>ローカルストレージ：</strong>ブラウザ内での一時保存</li>
            <li><strong>セッション管理：</strong>ブラウザセッション中のデータ保持</li>
            <li><strong>データエクスポート：</strong>CSV形式でのデータ出力機能</li>
        </ul>

        <h2>🔒 セキュリティ仕様</h2>
        
        <div class="warning">
            <h4>⚠️ プライバシー保護</h4>
            <ul>
                <li><strong>カメラ映像：</strong>ローカル処理のみ、外部送信なし</li>
                <li><strong>データ保存：</strong>ローカルストレージのみ使用</li>
                <li><strong>ネットワーク通信：</strong>不要（オフライン動作可能）</li>
                <li><strong>個人情報：</strong>収集・保存しない</li>
            </ul>
        </div>

        <h2>🚀 パフォーマンス仕様</h2>
        
        <h3>処理性能</h3>
        <ul>
            <li><strong>手認識速度：</strong>30fps以上でのリアルタイム処理</li>
            <li><strong>メモリ使用量：</strong>最小限のメモリ消費</li>
            <li><strong>CPU負荷：</strong>軽量な処理アルゴリズム</li>
            <li><strong>起動時間：</strong>3秒以内での完全起動</li>
        </ul>

        <h3>最適化技術</h3>
        <ul>
            <li><strong>Canvas最適化：</strong>効率的な描画処理</li>
            <li><strong>メモリ管理：</strong>適切なメモリ解放</li>
            <li><strong>処理軽量化：</strong>必要な部分のみの処理実行</li>
        </ul>

        <h2>🔧 運用・保守仕様</h2>
        
        <h3>運用要件</h3>
        <ul>
            <li><strong>ブラウザ要件：</strong>Chrome 80以上、Safari 13以上、Firefox 75以上</li>
            <li><strong>カメラ権限：</strong>ユーザーによるカメラアクセス許可が必要</li>
            <li><strong>照明環境：</strong>十分な明るさでの利用推奨</li>
            <li><strong>ネットワーク：</strong>初回読み込み時のみ必要</li>
        </ul>

        <h3>トラブルシューティング</h3>
        <div class="tech-spec">
            <table>
                <tr>
                    <th>問題</th>
                    <th>原因</th>
                    <th>対処法</th>
                </tr>
                <tr>
                    <td>カメラが起動しない</td>
                    <td>権限未許可、カメラ使用中</td>
                    <td>ブラウザ設定でカメラ許可、他アプリ終了</td>
                </tr>
                <tr>
                    <td>手認識が不安定</td>
                    <td>照明不足、背景複雑</td>
                    <td>明るい環境、シンプルな背景</td>
                </tr>
                <tr>
                    <td>動作が重い</td>
                    <td>デバイス性能不足</td>
                    <td>他のアプリ終了、ブラウザ再起動</td>
                </tr>
                <tr>
                    <td>画面表示異常</td>
                    <td>ブラウザ互換性</td>
                    <td>推奨ブラウザでの利用</td>
                </tr>
            </table>
        </div>

        <h2>📈 将来拡張仕様</h2>
        
        <h3>機能拡張予定</h3>
        <ul>
            <li><strong>AI学習機能：</strong>ユーザーの体操パターンを学習</li>
            <li><strong>難易度調整：</strong>自動的な難易度レベル調整</li>
            <li><strong>音声ガイド：</strong>音声による体操指示</li>
            <li><strong>データ分析：</strong>進捗の詳細分析機能</li>
            <li><strong>リモート監視：</strong>医療スタッフによる遠隔監視</li>
        </ul>

        <h3>技術拡張</h3>
        <ul>
            <li><strong>3D手認識：</strong>より精密な3D手の認識</li>
            <li><strong>マルチカメラ：</strong>複数カメラによる立体認識</li>
            <li><strong>VR/AR対応：</strong>仮想現実・拡張現実での利用</li>
            <li><strong>クラウド連携：</strong>データのクラウド保存・共有</li>
        </ul>

        <div class="success">
            <h3>✅ 技術的優位性</h3>
            <ul>
                <li><strong>リアルタイム処理：</strong>30fpsでの高速手認識</li>
                <li><strong>高精度認識：</strong>21点ランドマークによる精密検出</li>
                <li><strong>多デバイス対応：</strong>PC・iPad・タブレット対応</li>
                <li><strong>オフライン動作：</strong>ネットワーク不要の独立動作</li>
                <li><strong>プライバシー保護：</strong>ローカル処理による安全性</li>
            </ul>
        </div>

        <p class="note">この技術仕様書は、手の体操リハビリゲームの開発・運用・保守に必要な技術情報を網羅しています。システムの導入・運用時には、この仕様書を参考に適切な環境設定と運用管理を行ってください。</p>
    </div>
</body>
</html> 